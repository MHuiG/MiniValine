var root,factory;root=self,factory=function(){return(()=>{"use strict";function e(o){if(n[o])return n[o].exports;var i=n[o]={id:o,loaded:0,exports:{}};return t[o](i,i.exports,e),i.loaded=1,i.exports}var t={8157:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=1},8814:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=1):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=1),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=1},8979:(e,t)=>{var n,o,i;o=[e,t],void 0===(i="function"==typeof(n=function(e,t){function n(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),a()}function n(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function o(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function i(){if(0!==e.scrollHeight){var t=o(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",s=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),n&&(document.documentElement.scrollTop=n)}}function a(){i();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),a="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(t>a?"hidden"===o.overflowY&&(n("scroll"),i(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(n("hidden"),i(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),d!==a){d=a;var r=c("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!l.has(e)){var r=null,s=null,d=null,u=function(){e.clientWidth!==s&&a()},v=function(t){window.removeEventListener("resize",u,0),e.removeEventListener("input",a,0),e.removeEventListener("keyup",a,0),e.removeEventListener("autosize:destroy",v,0),e.removeEventListener("autosize:update",a,0),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),l.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",v,0),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",a,0),window.addEventListener("resize",u,0),e.addEventListener("input",a,0),e.addEventListener("autosize:update",a,0),e.style.overflowX="hidden",e.style.wordWrap="break-word",l.set(e,{destroy:v,update:a}),t()}}function o(e){var t=l.get(e);t&&t.destroy()}function i(e){var t=l.get(e);t&&t.update()}var a,r,l="function"==typeof Map?new Map:(a=[],r=[],{has:function(e){return a.indexOf(e)>-1},get:function(e){return r[a.indexOf(e)]},set:function(e,t){-1===a.indexOf(e)&&(a.push(e),r.push(t))},delete:function(e){var t=a.indexOf(e);t>-1&&(a.splice(t,1),r.splice(t,1))}}),c=function(e){return new Event(e,{bubbles:1})};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,1,0),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&[].forEach.call(e.length?e:[e],(function(e){return n(e,t)})),e}).destroy=function(e){return e&&[].forEach.call(e.length?e:[e],o),e},s.update=function(e){return e&&[].forEach.call(e.length?e:[e],i),e}),t.default=s,e.exports=t.default})?n.apply(t,o):n)||(e.exports=i)},1382:(e,t,n)=>{e=n.nmd(e);var o=n(8157)(n(8814));!function(t,n){var i=function(e,t,n){var o,i;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:1,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:1,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},n)t in i||(i[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:1};var a,r,l,c,s,d,u,v,f,p,m,h,g,y,w,b,x,S,C,M,E,L,A,z,k,q,T,V,N,P,I,_,D,O,U,H,R,j,B,F,W,X,J,$,Q,G=t.documentElement,Y=e.HTMLPictureElement,Z="addEventListener",K="getAttribute",ee=e[Z].bind(e),te=e.setTimeout,ne=e.requestAnimationFrame||te,oe=e.requestIdleCallback,ie=/^picture$/i,ae=["load","error","lazyincluded","_lazyloaded"],re={},le=[].forEach,ce=function(e,t){return re[t]||(re[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),re[t].test(e[K]("class")||"")&&re[t]},se=function(e,t){ce(e,t)||e.setAttribute("class",(e[K]("class")||"").trim()+" "+t)},de=function(e,t){var n;(n=ce(e,t))&&e.setAttribute("class",(e[K]("class")||"").replace(n," "))},ue=function e(t,n,o){var i=o?Z:"removeEventListener";o&&e(t,n),ae.forEach((function(e){t[i](e,n)}))},ve=function(e,n,i,a,r){var l=t.createEvent("Event");return i||(i={}),i.instance=o,l.initEvent(n,!a,!r),l.detail=i,e.dispatchEvent(l),l},fe=function(t,n){var o;!Y&&(o=e.picturefill||i.pf)?(n&&n.src&&!t[K]("srcset")&&t.setAttribute("srcset",n.src),o({reevaluate:1,elements:[t]})):n&&n.src&&(t.src=n.src)},pe=function(e,t){return(getComputedStyle(e,null)||{})[t]},me=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},he=(X=[],J=W=[],(Q=function(e,n){B&&!n?e.apply(this,arguments):(J.push(e),F||(F=1,(t.hidden?te:ne)($)))})._lsFlush=$=function(){var e=J;for(J=W.length?X:W,B=1,F=0;e.length;)e.shift()();B=0},Q),ge=function(e,t){return t?function(){he(e)}:function(){var t=this,n=arguments;he((function(){e.apply(t,n)}))}},ye=function(e){var t,o=0,a=i.throttleDelay,r=i.ricTimeout,l=function(){t=0,o=n.now(),e()},c=oe&&r>49?function(){oe(l,{timeout:r}),r!==i.ricTimeout&&(r=i.ricTimeout)}:ge((function(){te(l)}),1);return function(e){var i;(e=1==e)&&(r=33),t||(t=1,0>(i=a-(n.now()-o))&&(i=0),e||9>i?c():te(c,i))}},we=function(e){var t,o,i=99,a=function(){t=null,e()},r=function e(){var t=n.now()-o;i>t?te(e,i-t):(oe||a)(a)};return function(){o=n.now(),t||(t=te(r,i))}},be=(x=/^img$/i,S=/^iframe$/i,C="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),M=0,E=0,L=0,A=-1,z=function(e){L--,e&&L>=0&&e.target||(L=0)},k=function(e){return null==b&&(b="hidden"==pe(t.body,"visibility")),b||!("hidden"==pe(e.parentNode,"visibility")&&"hidden"==pe(e,"visibility"))},q=function(e,n){var o,i=e,a=k(e);for(h-=n,w+=n,g-=n,y+=n;a&&(i=i.offsetParent)&&i!=t.body&&i!=G;)(a=(pe(i,"opacity")||1)>0)&&"visible"!=pe(i,"overflow")&&(o=i.getBoundingClientRect(),a=y>o.left&&g<o.right&&w>o.top-1&&h<o.bottom+1);return a},V=ye(T=function(){var e,n,a,r,l,c,u,f,x,S,z,T,V=o.elements;if((v=i.loadMode)&&8>L&&(e=V.length)){for(n=0,A++;e>n;n++)if(V[n]&&!V[n]._lazyRace)if(!C||o.prematureUnveil&&o.prematureUnveil(V[n]))U(V[n]);else if((f=V[n][K]("data-expand"))&&(c=1*f)||(c=E),S||(S=!i.expand||1>i.expand?G.clientHeight>500&&G.clientWidth>500?500:370:i.expand,o._defEx=S,z=S*i.expFactor,T=i.hFac,b=null,z>E&&1>L&&A>2&&v>2&&!t.hidden?(E=z,A=0):E=v>1&&A>1&&6>L?S:M),x!==c&&(p=innerWidth+c*T,m=innerHeight+c,u=-1*c,x=c),a=V[n].getBoundingClientRect(),(w=a.bottom)<u||(h=a.top)>m||(y=a.right)<u*T||(g=a.left)>p||!(w||y||g||h)||!i.loadHidden&&!k(V[n])||!(d&&3>L&&!f&&(3>v||4>A)||q(V[n],c)))!l&&d&&!r&&4>L&&4>A&&v>2&&(s[0]||i.preloadAfterLoad)&&(s[0]||!f&&(w||y||g||h||"auto"!=V[n][K](i.sizesAttr)))&&(r=s[0]||V[n]);else if(U(V[n]),l=1,L>9)break;r&&!l&&U(r)}}),P=ge(N=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(z(e),se(t,i.loadedClass),de(t,i.loadingClass),ue(t,I),ve(t,"lazyloaded"))}),I=function(e){P({target:e.target})},_=function(e,t){var n=e.getAttribute("data-load-mode")||i.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)},D=function(e){var t,n=e[K](i.srcsetAttr);(t=i.customMedia[e[K]("data-media")||e[K]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},O=ge((function(e,t,n,o,a){var r,l,c,s,d,v;(d=ve(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(n?se(e,i.autosizesClass):e.setAttribute("sizes",o)),l=e[K](i.srcsetAttr),r=e[K](i.srcAttr),a&&(s=(c=e.parentNode)&&ie.test(c.nodeName||"")),v=t.firesLoad||"src"in e&&(l||r||s),d={target:e},se(e,i.loadingClass),v&&(clearTimeout(u),u=te(z,2500),ue(e,I,1)),s&&le.call(c.getElementsByTagName("source"),D),l?e.setAttribute("srcset",l):r&&!s&&(S.test(e.nodeName)?_(e,r):e.src=r),a&&(l||s)&&fe(e,{src:r})),e._lazyRace&&delete e._lazyRace,de(e,i.lazyClass),he((function(){var t=e.complete&&e.naturalWidth>1;v&&!t||(t&&se(e,i.fastLoadedClass),N(d),e._lazyCache=1,te((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&L--}),1)})),U=function(e){if(!e._lazyRace){var t,n=x.test(e.nodeName),o=n&&(e[K](i.sizesAttr)||e[K]("sizes")),a="auto"==o;(!a&&d||!n||!e[K]("src")&&!e.srcset||e.complete||ce(e,i.errorClass)||!ce(e,i.lazyClass))&&(t=ve(e,"lazyunveilread").detail,a&&xe.updateElem(e,1,e.offsetWidth),e._lazyRace=1,L++,O(e,t,a,o,n))}},H=we((function(){i.loadMode=3,V()})),j=function e(){d||(999>n.now()-f?te(e,999):(d=1,i.loadMode=3,V(),ee("scroll",R,1)))},{_:function(){f=n.now(),o.elements=t.getElementsByClassName(i.lazyClass),s=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),ee("scroll",V,1),ee("resize",V,1),ee("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+i.loadingClass);n.length&&n.forEach&&ne((function(){n.forEach((function(e){e.complete&&U(e)}))}))}})),e.MutationObserver?new MutationObserver(V).observe(G,{childList:1,subtree:1,attributes:1}):(G[Z]("DOMNodeInserted",V,1),G[Z]("DOMAttrModified",V,1),setInterval(V,999)),ee("hashchange",V,1),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[Z](e,V,1)})),/d$|^c/.test(t.readyState)?j():(ee("load",j),t[Z]("DOMContentLoaded",V),te(j,2e4)),o.elements.length?(T(),he._lsFlush()):V()},checkElems:V,unveil:U,_aLSL:R=function(){3==i.loadMode&&(i.loadMode=2),H()}}),xe=(r=ge((function(e,t,n,o){var i,a,r;if(e._lazysizesWidth=o,o+="px",e.setAttribute("sizes",o),ie.test(t.nodeName||""))for(a=0,r=(i=t.getElementsByTagName("source")).length;r>a;a++)i[a].setAttribute("sizes",o);n.detail.dataAttr||fe(e,n.detail)})),l=function(e,t,n){var o,i=e.parentNode;i&&(n=me(e,i,n),(o=ve(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=o.detail.width)&&n!==e._lazysizesWidth&&r(e,i,o,n))},{_:function(){a=t.getElementsByClassName(i.autosizesClass),ee("resize",c)},checkElems:c=we((function(){var e,t=a.length;if(t)for(e=0;t>e;e++)l(a[e])})),updateElem:l}),Se=function e(){!e.i&&t.getElementsByClassName&&(e.i=1,xe._(),be._())};return te((function(){i.init&&Se()})),o={cfg:i,autoSizer:xe,loader:be,init:Se,uP:fe,aC:se,rC:de,hC:ce,fire:ve,gW:me,rAF:he}}(t,t.document,Date);t.lazySizes=i,"object"==(0,o.default)(e)&&e.exports&&(e.exports=i)}("undefined"!=typeof window?window:{})},4072:e=>{(function(t){function n(e){var t=new Error(e);return t.name="ValueError",t}function o(e){return function(t){var o=[].slice.call(arguments,1),i=0,a="UNDEFINED";return t.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,(function(t,r,l,c){if(null!=r)return r;var s=l;if(s.length>0){if("IMPLICIT"===a)throw n("cannot switch from implicit to explicit numbering");a="EXPLICIT"}else{if("EXPLICIT"===a)throw n("cannot switch from explicit to implicit numbering");a="IMPLICIT",s=String(i),i+=1}var d=s.split("."),u=(/^\d+$/.test(d[0])?d:["0"].concat(d)).reduce((function(e,t){return e.reduce((function(e,n){return null!=n&&t in Object(n)?["function"==typeof n[t]?n[t]():n[t]]:[]}),[])}),[o]).reduce((function(e,t){return t}),"");if(null==c)return u;if({}.hasOwnProperty.call(e,c))return e[c](u);throw n('no transformer named "'+c+'"')}))}}var i=o({});i.create=o,i.extend=function(e,n){var i=o(n);e.format=function(){var e=[].slice.call(arguments);return e.unshift(this),i.apply(t,e)}},e.exports=i}).call(void 0,void 0)},196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:1}),t.C=t.PS=t.MaxNL=t.DEHash=t.i18nUrl=t.EUrl=t.avatarD=t.avatarUrl=t.MVUrl=t.VERSION=void 0;var n="6.0.1";t.VERSION=n;var o="https://cdn.jsdelivr.net/npm/minivaline@6.0.1";t.MVUrl=o,t.avatarUrl="https://cdn.v2ex.com/gravatar",t.avatarD="robohash";var i=[o+"/imgs/alus",o+"/imgs/qq",o+"/imgs/Bilibilis",o+"/imgs/tieba",o+"/imgs/twemoji",o+"/imgs/weibo",o+"/imgs/funny"];t.EUrl=i,t.i18nUrl="https://cdn.jsdelivr.net/npm/minivaline@6.0.1/i18n/",t.DEHash="9e63c80900d106cbbec5a9f4ea433a3e",t.MaxNL=6,t.PS=6;var a={ip:"",comment:"",rid:"",at:"",nick:"",mail:"",mailMd5:"",link:"",ua:navigator.userAgent,url:location.pathname};t.C=a},1874:(e,t,n)=>{var o=n(8157);n(1382);var i=o(n(2434)),a=o(n(7375)),r=o(n(1053));window.autosize=n(8979);var l=function(e){var t=this;try{if(t.conf=e,!document.querySelectorAll(t.conf.el)[0])return;a.default.Config(t),a.default.i18n(t),t.initCheck()}catch(e){console.error(e)}};l.prototype.initCheck=function(){var e=this;try{var t=setInterval((function(){e.i18n&&(clearInterval(t),(0,r.default)(e),e.ele=i.default.getEle(e),e.Start())}),5)}catch(e){console.error(e)}},l.prototype.Start=function(){var e=this;try{i.default.el(e),i.default.loading(e),e.nodata.show(),i.default.smiles(e)}catch(e){return void console.error(e)}try{e.loading.hide(e.parentCount),e.loading.show(),e.fetchCount(e),a.default.insertComment(e,i.default),a.default.parentQuery(e),a.default.nestQuery(e),a.default.alert(e),a.default.inputs(e),a.default.previewEvt(e),a.default.smileEvt(e),a.default.getCache(e),a.default.resetForm(e),a.default.uploadImage(e),a.default.cancelReply(e),a.default.smileBtnEvt(e),a.default.previewBtnEvt(e),a.default.atEvt(e),a.default.submitBtnEvt(e),a.default.smile(e),window.MV.root=e,window.MV.util=a.default,"function"==typeof e.conf.FinishLoaded&&e.conf.FinishLoaded()}catch(e){console.error(e)}},e.exports=l},8876:e=>{e.exports=function(e){var t="[object HTMLDivElement]"==={}.toString.call(e.conf.el)?e.conf.el:document.querySelectorAll(e.conf.el)[0];"[object HTMLDivElement]"==={}.toString.call(t)&&(e.el=t,e.el.classList.add("ohhho"),e.el.innerHTML=e.ele)}},7640:(e,t,n)=>{var o=n(8157)(n(4072));e.exports=function(e){var t='<div id="vinputs-placeholder"><div class="vinputs-wrap">'+'<div class="cancel-reply-btn vcancel-comment-reply" style="display:none" title="'.concat(e.i18n.cancelReply,'" >')+'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4220" width="22" height="22"><path d="M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z" p-id="4221"></path><path d="M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z" p-id="4222"></path></svg></div><div class="vinputs-area"><section class="auth-section">'+'<div class="input-wrapper"><input type="text" name="author" class="vnick" placeholder="'.concat(e.i18n.nick,'" value=""></div>')+'<div class="input-wrapper"><input type="email" name="email" class="vmail" placeholder="'.concat(e.i18n.mail,'" value=""></div>')+'<div class="input-wrapper"><input type="text" name="website" class="vlink" placeholder="'.concat(e.i18n.link,'" value=""></div>')+'</section><div class="textarea-wrapper"><div class="veditor-area">'+'<textarea placeholder="'.concat(e.conf.placeholder,'" class="veditor"></textarea>')+'<div class="vrow"><div class="btn-wrap">'+'<div class="vemoji-btn vfunction-btn" title="'.concat(e.i18n.emoji,'">')+'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16172" width="22" height="22"><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z" p-id="16173"></path><path d="M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z" p-id="16174"></path><path d="M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z" p-id="16175"></path><path d="M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z" p-id="16176"></path></svg></div>'+'<div class="vpreview-btn vfunction-btn" title="'.concat(e.i18n.preview,'">')+'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17688" width="22" height="22"><path d="M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z" p-id="17689"></path><path d="M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z" p-id="17690"></path><path d="M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z" p-id="17691"></path><path d="M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z" p-id="17692"></path></svg></div></div></div></div><div class="vrow"><div class="vcol vcol-30">';return t+='<a alt="Markdown is supported" href="https://guides.github.com/features/mastering-markdown/" class="vicon" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a>',t+='</div><div class="vcol vcol-70 text-right"><button type="button" title="Cmd|Ctrl+Enter" class="vsubmit vbtn">'.concat(e.i18n.submit,"</button></div></div>")+'<div class="vextra-area"><div class="vsmile-body" style="display:none"><div class="vsmile-icons"><ul></ul></div><div class="vsmile-bar"><ul></ul></div></div></div><div class="vpreview-text" style="display:none"></div></div></div><div style="display:none;" class="vmark"></div></div><div class="vsubmitting" style="display:none;"></div></div></div><div class="info">'+'<div class="col"> '.concat((0,o.default)(e.i18n.commentCount,'<span class="count">0</span>'),"</div>")+'</div><ul class="vlist"><li class="vempty"></li></ul><div class="vloading"></div><div class="vpage txt-center"></div>'}},2434:(e,t,n)=>{var o=n(8157),i=o(n(7807)),a=o(n(1545)),r=o(n(1062)),l=o(n(8876)),c=o(n(7640));e.exports={vcard:i.default,loading:a.default,smiles:r.default,getEle:c.default,el:l.default}},1545:e=>{e.exports=function(e){var t=e.el.querySelector(".vempty");e.nodata={show:function(n){t.innerHTML=n||e.i18n.noCommentYet,t.setAttribute("style","display:block;")},hide:function(){t.setAttribute("style","display:none;")}};var n='<div class="spinner"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div></div>',o=e.el.querySelector(".vloading");o.innerHTML=n,e.loading={show:function(){o.setAttribute("style","display:block;"),e.nodata.hide()},hide:function(t){o.setAttribute("style","display:none;"),0===t&&e.nodata.show()}};var i=e.el.querySelector(".vsubmitting");i.innerHTML=n,e.submitting={show:function(){i.setAttribute("style","display:block;")},hide:function(){i.setAttribute("style","display:none;"),e.nodata.hide()}}}},1062:e=>{e.exports=function(e){var t=setInterval((function(){if(void 0!==e.emoticonList&&0!==e.emoticonList.length){clearInterval(t);for(var n=e.el.querySelector(".vsmile-icons ul"),o=e.el.querySelector(".vsmile-bar ul"),i=e.emoticonList||[],a=0;a<i.length;a++){for(var r=document.createElement("li"),l=document.createElement("li"),c=0;c<i[a].length;c++){var s=document.createElement("img");s.setAttribute("data-src","".concat(i[a][c])),s.setAttribute("class","lazyload");try{r.appendChild(s)}catch(e){}if(0===c){(s=document.createElement("img")).setAttribute("src","".concat(i[a][0])),s.removeAttribute("class","lazyload");try{l.appendChild(s)}catch(e){}}}try{n.appendChild(r)}catch(e){}try{o.appendChild(l)}catch(e){}}try{!function(){e.el.querySelector(".vsmile-icons > ul > li:nth-child(1)").style.display="block";for(var t=document.querySelectorAll(".vsmile-bar > ul > li"),n=document.querySelectorAll(".vsmile-icons > ul > li"),o=0;o<t.length;o++)t[o].index=o,t[o].onclick=function(){for(var e=0;e<t.length;e++)t[e].className="",n[e].style.display="none";this.className="active",n[this.index].style.display="block"}}()}catch(e){}}}),10)}},6844:e=>{var t=function(e){var t=n(e.getDate(),2),o=n(e.getMonth()+1,2),i=n(e.getFullYear(),2);return"".concat(i,"-").concat(o,"-").concat(t)},n=function(e,t){for(var n=e.toString();n.length<t;)n="0".concat(n);return n};e.exports=function(e,n){try{var o=e.getTime(),i=(new Date).getTime()-o,a=Math.floor(i/864e5);if(0===a){var r=i%864e5,l=Math.floor(r/36e5);if(0===l){var c=r%36e5,s=Math.floor(c/6e4);if(0===s){var d=c%6e4,u=Math.round(d/1e3);return 0===u?n.now:"".concat(u," ").concat(n.seconds)}return"".concat(s," ").concat(n.minutes)}return"".concat(l," ").concat(n.hours)}return 0>a?n.now:365>a?"".concat(a," ").concat(n.days):t(e)}catch(e){console.error(e)}}},7807:(e,t,n)=>{var o=n(8157)(n(6844));e.exports=function(e,t){var n=t.get("mailMd5"),i="".concat(e.conf.avatarUrl+"/"+n,"?s=48&d=").concat(e.conf.avatarD),a='<div class="vcomment-body"><div class="vhead" >'+'<img class="vavatar lazyload" data-src="'.concat(i,'"/>')+"<a rid='".concat(t.id,"' at='@").concat(t.get("nick"),'\' class="vat" id="at-').concat(t.id,'">').concat(e.i18n.reply,"</a>")+'<div class="vmeta-info">'.concat(t.get("link")?'<a class="vname" href="'.concat(t.get("link"),'" target="_blank" rel="nofollow" > ').concat(t.get("nick"),"</a>"):'<span class="vname">'.concat(t.get("nick"),"</span> "))+'<br/><span class="vtime">'.concat((0,o.default)(t.get("createdAt"),e.i18n),"</span>")+"</div></div>"+'<section class="text-wrapper"  id="comment-'.concat(t.id,'">');return a+='<div class="comment-item" style="display: none">'.concat(window.btoa(encodeURIComponent(JSON.stringify(t))),"</div>"),a+='<div class="vcomment">'.concat(t.get("comment"),"</div>")+'</section></div><div class="vcomment-children"><div class="vshow-children-wrapper" style="display: none"></div>'+'<ul class="vlist" id="children-list-'.concat(t.id,'"></ul>')+"</div>"}},9506:(e,t,n)=>{var o=n(196),i=function(e){if("undefined"==typeof NexT)return window.MV||(console.log("%c MiniValine %c v"+o.VERSION+" ","color: white; background: #0078E7; padding:5px 0;","padding:4px;border:1px solid #0078E7;"),window.MV=Object.create(null),window.MV.v=o.VERSION),new(n(1874))(e)};e.exports=i,e.exports.default=i},4291:(e,t,n)=>{var o=n(196);e.exports=function(e){e.conf.avatarUrl=e.conf.avatarUrl?e.conf.avatarUrl.replace(/\/$/g,""):o.avatarUrl,e.conf.avatarD=e.conf.avatarD||o.avatarD,e.conf.emoticonUrl=e.conf.emoticonUrl||o.EUrl,e.conf.lang=e.conf.lang||navigator.language||navigator.userLanguage,e.conf.maxNest=e.conf.maxNest||o.MaxNL,e.conf.pageSize=e.conf.pageSize||o.PS,e.conf.placeholder=e.conf.placeholder||"",e.C=o.C,e.conf.path=e.conf.path||e.conf.pathname||location.pathname,e.C.url=e.conf.path,e.conf.serverURL=e.conf.serverURL.replace(/\/$/g,""),e.conf.uploadImageURL=e.conf.uploadImageURL||"https://pic.alexhchu.com/api/upload",e.conf.uploadImageParse=e.conf.uploadImageParse||function(e){return e.data.url}}},292:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){var t=e.el.querySelector(".vmark");e.alert={show:function(n){if(t.innerHTML='<div class="valert txt-center"><div class="vtext">'.concat(n.text,'</div><div class="vbtns"></div></div>'),3==n.type)t.setAttribute("style","display:block;"),n.cb&&n.cb();else if(2==n.type){var i=t.querySelector(".vbtns"),a='<button class="vsure vbtn">'.concat(n.ctxt||e.i18n.continue,"</button>");i.innerHTML=a,t.setAttribute("style","display:block;");var r=t.querySelector(".vsure");o.default.on("click",r,(function(e){n.cb&&n.cb()}))}else{var l=t.querySelector(".vbtns"),c='<button class="vcancel vbtn">'.concat(n.ctxt||e.i18n.cancel,"</button>"),s='<button class="vsure vbtn">'.concat(n.otxt||e.i18n.continue,"</button>");if(l.innerHTML="".concat(c).concat(n.type?s:""),t.querySelector(".vcancel").addEventListener("click",(function(t){e.alert.hide()})),t.setAttribute("style","display:block;"),n.type){var d=t.querySelector(".vsure");o.default.on("click",d,(function(t){e.alert.hide(),n.cb&&n.cb()}))}}},hide:function(){t.setAttribute("style","display:none;")}},e.error=function(t,n){console.error(t),console.error(n);var o=n;if(n.errmsg||n.message||n.msg)o=n.errmsg||n.message||n.msg;else try{o=JSON.stringify(n)}catch(e){o="ERROR"}'""'===o&&(o="network error"),e.alert.show({type:0,text:o,ctxt:e.i18n.confirm}),e.el.querySelector(".vsubmit").removeAttribute("disabled-submit"),e.submitting.hide(),e.nodata.hide()}}},1214:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){e.AtEvt=function(t){var n=t.getAttribute("id"),i=t.querySelector("#at-".concat(n));o.default.on("click",i,(function(o){var a=i.getAttribute("at"),r=i.getAttribute("rid");e.C.rid=r,e.C.at=a,e.el.querySelector(".vinputs-area  textarea").placeholder=a,e.inputs.comment.value="".concat(e.inputs.comment.value);var l=t.querySelector("#comment-".concat(n));try{l.appendChild(e.el.querySelector(".vinputs-wrap"))}catch(o){}e.el.querySelector(".vcancel-comment-reply").removeAttribute("style"),e.inputs.comment.focus()}))}}},3288:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){o.default.on("click",e.el.querySelector(".cancel-reply-btn"),(function(t){e.reset()}))}},1053:(e,t,n)=>{var o=n(8157),i=o(n(4460)),a=o(n(9779)),r=o(n(1983));e.exports=function(e){var t="".concat(e.conf.serverURL,"/comment");e.fetchCount=function(e){(0,i.default)({url:t,type:"GET",data:{type:"count",path:e.conf.path},success:function(t){e.el.querySelector(".count").innerHTML=t},error:e.error})},e.fetchTotalPages=function(e,n){(0,i.default)({url:t,type:"GET",data:{type:"totalPages",path:e.conf.path,pageSize:e.conf.pageSize},success:function(e){n(e)},error:e.error})},e.fetchParentList=function(e,n,o){(0,i.default)({url:t,type:"GET",data:{path:e.conf.path,pageSize:e.conf.pageSize,page:n},success:function(e){window.MV.PageData=e;var t=new a.default;window.MV.PageDataList=t.beanList(e),o(window.MV.PageDataList)},error:e.error})},e.fetchNextList=function(e,t,n){for(var o=[],i=window.MV.PageDataList,a=0;a<i.length;a++)if(i[a].children)for(var r=0;r<i[a].children.length;r++)t==i[a].children[r].rid&&o.push(i[a].children[r]);n(o)},e.fetchNextCount=function(e,t,n){for(var o=[],i=window.MV.PageDataList,a=0;a<i.length;a++)if(i[a].children)for(var r=0;r<i[a].children.length;r++)t==i[a].children[r].rid&&o.push(i[a].children[r]);o.length>0&&n(1)},e.postComment=function(e,n){e.postComment.callback=n;var o=new a.default;for(var l in e.C)if(e.C.hasOwnProperty(l)){var c=e.C[l];"at"===l&&(c=c.substr(1)),o.set(l,c)}var s=Object.create(null);if((s={comment:o.comment,link:o.link,mail:o.mail,nick:o.nick,ua:o.ua,url:o.url,at:o.at,accesstoken:window.MV.accesstoken}).at){var d=JSON.parse(decodeURIComponent(window.atob(document.querySelector("#comment-"+o.rid+" .comment-item").textContent)));d.pid?s.pid=d.pid:s.pid=d.id,s.rid=d.id}console.log(s),(0,i.default)({url:t,type:"POST",data:s,success:function(t){if(t.comment){var o=new a.default;o.create(t),n(o)}else t.capcode?(0,r.default)("".concat(e.conf.serverURL,"/ChallengeCaptcha")):e.error(12138,t)},error:function(t,n){e.error(t,n)}})}}},9779:e=>{e.exports=function e(){this.set=function(e,t){this[e]=t},this.get=function(e){return this[e]},this.create=function(t){this.set("nick",t.nick),this.set("mailMd5",t.mailMd5),this.set("link",t.link),this.set("createdAt",new Date(t.createdAt)),this.set("id",t.id),this.set("rid",t.rid),this.set("pid",t.pid),this.set("browser",t.browser),this.set("os",t.os),this.set("comment",t.comment);var n=new e;this.set("children",n.beanList(t.children))},this.beanList=function(t){var n=[];if(t&&t.length)for(var o=0;o<t.length;o++){var i=new e;i.create(t[o]),n.push(i)}return n}}},3756:e=>{e.exports=function(e){var t=localStorage&&localStorage.getItem("_ohhho");if(t){t=JSON.parse(t);for(var n=["nick","link","mail"],o=0;n.length>o;o++){var i=n[o];e.el.querySelector(".v".concat(i)).value=t[i],e.C[i]=t[i]}}}},8447:(e,t,n)=>{var o=n(8157),i=n(196),a=o(n(4460));e.exports=function(e){if(window.MV.i18n)e.i18n=window.MV.i18n,window.MV.getI18n=0;else{var t=localStorage&&localStorage.getItem("_ohhhoI18n");if(t&&(t=JSON.parse(t)).lang==e.conf.lang?(e.i18n=t.i18n,window.MV.i18n=e.i18n,window.MV.getI18n=0):window.MV.getI18n=1,window.MV.getI18n){var n=e.conf.lang.split("-");2==n.length&&(e.conf.lang=n[0]+"-"+n[1].toUpperCase()),(0,a.default)({url:i.i18nUrl+e.conf.lang+"/index.json",type:"GET",success:function(t){e.i18n=t,window.MV.i18n=e.i18n,localStorage&&localStorage.setItem("_ohhhoI18n",JSON.stringify({lang:e.conf.lang,i18n:e.i18n}))}})}}}},7375:(e,t,n)=>{var o=n(8157),i=o(n(4291)),a=o(n(8447)),r=o(n(2285)),l=o(n(3604)),c=o(n(292)),s=o(n(3756)),d=o(n(2682)),u=o(n(673)),v=o(n(3288)),f=o(n(5320)),p=o(n(7866)),m=o(n(8183)),h=o(n(1214)),g=o(n(3952)),y=o(n(4425)),w=o(n(6346)),b=o(n(9010)),x=o(n(756));e.exports={Config:i.default,i18n:a.default,smile:r.default,uploadImage:l.default,alert:c.default,smileEvt:d.default,resetForm:u.default,cancelReply:v.default,smileBtnEvt:f.default,previewBtnEvt:p.default,inputs:m.default,atEvt:h.default,submitBtnEvt:g.default,insertComment:y.default,nestQuery:w.default,parentQuery:b.default,previewEvt:x.default,getCache:s.default}},8183:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){for(var t in e.inputs=Object.create(null),e.mapping={veditor:"comment",vnick:"nick",vlink:"link",vmail:"mail"},e.mapping)e.mapping.hasOwnProperty(t)&&function(){var n=e.mapping[t],i=e.el.querySelector(".".concat(t));e.inputs[n]=i,o.default.on("input",i,(function(t){e.C[n]=i.value})),"veditor"==t&&o.default.on("input",i,(function(t){if(window.MV.VDL=i.value.length,!window.MV.VDPI){window.MV.VDPI=1;var n=setInterval((function(){window.MV.VDL!=i.value.length?(window.MV.VDL=i.value.length,window.MV.VDP=0):window.MV.VDP=1,window.MV.VDP&&(e.previewEvt(e),clearInterval(n),window.MV.VDP=0,window.MV.VDPI=0)}),2500)}}))}()}},9270:e=>{e.exports=function(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,o=e.selectionEnd,i=e.scrollTop;e.value=e.value.substring(0,n)+t+e.value.substring(o,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.scrollTop=i}else e.focus(),e.value+=t}},4425:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e,t){e.insertComment=function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("li");r.setAttribute("class","vcard"),r.setAttribute("id",o.id),r.innerHTML=t.vcard(e,o);for(var l=i||e.el.querySelector(".vlist"),c=l.querySelectorAll("li"),s=r.querySelectorAll("a"),d=0,u=s.length;u>d;d++){var v=s[d];v&&"at"!==v.getAttribute("class")&&(v.setAttribute("target","_blank"),v.setAttribute("rel","nofollow"))}if(a)l.insertBefore(r,c[0]);else try{l.appendChild(r)}catch(e){}var f=r.querySelector(".vcomment");return n(f),e.AtEvt(r),r};var n=function(e){e.offsetHeight>180&&(e.classList.add("expand"),o.default.on("click",e,(function(t){e.setAttribute("class","vcomment")})))}}},6346:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){e.nestQuery=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.querySelector(".vcomment-children"),a=i.querySelector(".vlist"),r=t.getAttribute("id");if(n>0||i.setAttribute("style","margin-left: 0 !important"),n<e.conf.maxNest)setTimeout((function(){e.fetchNextList(e,r,(function(t){var o=t.length;if(o)for(var i=0;o>i;i++)if(!t[i].get("isSpam")){var r=e.insertComment(t[i],a,1);e.nestQuery(r,n+1)}}))}),60*n);else{var l=function(n){if(n>0){var a=i.querySelector(".vshow-children-wrapper");a.setAttribute("style","display: block !important;"),a.innerHTML='<span class="vshow-children" rid="'.concat(r,'">').concat(e.i18n.more,"</span>");var l=a.querySelector(".vshow-children");"function"==typeof e.conf.PageLoaded&&e.conf.PageLoaded(),o.default.on("click",l,(function(n){a.setAttribute("style","display: none !important;"),e.nestQuery(t,-1e3)}))}};e.fetchNextCount(e,r,l)}}}},9010:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){var t=1;e.TotalPages=0,e.parentQuery=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.loading.show();var i=function(i){var a=i.length;if(a){for(var r=0;a>r;r++){0==r&&e.loading.hide(e.TotalPages);var l=e.insertComment(i[r],e.el.querySelector(".vlist"),0);l.setAttribute("style","margin-bottom: .5em"),e.nestQuery(l)}var c=e.el.querySelector(".vpage");c.innerHTML=n<e.TotalPages?'<div id="vmore" class="more">'.concat(e.i18n.more,"</div>"):"";var s=c.querySelector("#vmore");s&&o.default.on("click",s,(function(n){c.innerHTML="",e.parentQuery(++t)}))}"function"==typeof e.conf.PageLoaded&&e.conf.PageLoaded(),e.loading.hide(e.TotalPages)};e.fetchParentList(e,n,i)},e.fetchTotalPages(e,(function(t){e.TotalPages=t,e.parentQuery(1)}))}},2243:(e,t,n)=>{var o=n(8157)(n(4460));e.exports=function(e,t,n){var i=e.C.comment.match(/!\(:(.*?\.\w+):\)/g);if(i)for(var a=0;a<i.length;a++){var r=i[a].match(/!\(:(.*?\.\w+):\)/)[1],l=e.emoticon[r],c=new RegExp("!\\(:"+r.replace(/\./,"\\.")+":\\)","g");e.C.comment=e.C.comment.replace(c,"![".concat(r,"](").concat(l,")"))}var s="".concat(e.conf.serverURL,"/md");(0,o.default)({url:s,type:"POST",data:{s:e.C.comment},success:function(e){t.innerHTML=e,n(t)},error:e.error})}},4460:e=>{var t=function(e){(e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json";var t=n(e.data),o=null;(o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4===o.readyState){var t=o.status,n=o.responseText,i=o.responseXML;try{n=JSON.parse(n),i=JSON.parse(i)}catch(e){}if(t>=200&&300>t){if(e.success)try{e.success(n,i)}catch(e){n&&(console.error(n),console.error(e))}}else e.error&&e.error(t,n)}},"GET"==e.type?(o.open("GET",e.url+"?"+t,1),o.send(null)):"POST"==e.type&&(o.open("POST",e.url,1),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t))},n=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push(("v="+Math.random()).replace(".","")),t.join("&")};window.MV.ajax=t,e.exports=t},3755:e=>{e.exports={mail:function(e){return{k:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e),v:e}},link:function(e){return e.length>0&&(e=/^(http|https)/.test(e)?e:"http://".concat(e)),{k:e.length>0?/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/.test(e):1,v:e}}}},9493:e=>{var t={on:function(e,n,o,i){for(var a=0,r=(e=e.split(" ")).length;r>a;a++)t.off(e[a],n,o,i),n.addEventListener?n.addEventListener(e[a],o,i||0):n.attachEvent?n.attachEvent("on".concat(e[a]),o):n["on".concat(e[a])]=o},off:function(e,t,n,o){for(var i=0,a=(e=e.split(" ")).length;a>i;i++)t.removeEventListener?t.removeEventListener(e,n,o||0):t.detachEvent?t.detachEvent("on".concat(e),n):t["on".concat(e)]=null}};window.MV.dom=t,e.exports=t},1983:e=>{var t=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e;try{document.getElementsByTagName("head")[0].appendChild(t)}catch(e){}};window.MV.getScript=t,e.exports=t},7866:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){var t=e.el.querySelector(".vpreview-btn"),n=e.el.querySelector(".vemoji-btn"),i=e.el.querySelector(".vpreview-text"),a=e.el.querySelector(".vsmile-icons");o.default.on("click",t,(function(o){if(a.getAttribute("triggered")&&(a.setAttribute("style","display:none;"),a.removeAttribute("triggered"),n.classList.remove("actived")),i.getAttribute("triggered"))i.setAttribute("style","display:none;"),i.removeAttribute("triggered"),t.classList.remove("actived");else{if(t.classList.add("actived"),""===e.C.comment)return void e.inputs.comment.focus();e.previewEvt(e)}}))}},756:(e,t,n)=>{var o=n(8157)(n(2243));e.exports=function(e){e.previewEvt=function(e){var t=e.el.querySelector(".vpreview-btn"),n=e.el.querySelector(".vpreview-text"),i=e.el.querySelector(".veditor");(0,o.default)(e,n,(function(e){e.removeAttribute("style"),e.setAttribute("triggered",1),t.classList.add("actived"),i.value?autosize(i):autosize.destroy(i)}))}}},673:(e,t,n)=>{var o=n(8157)(n(3756));e.exports=function(e){var t=e.el.querySelector(".vsmile-icons"),n=e.el.querySelector(".vpreview-text");e.reset=function(){for(var i in e.mapping)if(e.mapping.hasOwnProperty(i)){var a=e.mapping[i];e.el.querySelector(".".concat(i)).value="",e.C[a]=""}e.C.rid="",e.C.nick="",e.C.at="",e.el.querySelector(".vinputs-area  textarea").placeholder="",(0,o.default)(e),e.previewEvt(e),t.getAttribute("triggered")&&(t.setAttribute("style","display:none;"),t.removeAttribute("triggered")),n.getAttribute("triggered")&&(n.setAttribute("style","display:none;"),n.removeAttribute("triggered")),e.el.querySelector(".vcancel-comment-reply").setAttribute("style","display:none");try{e.el.querySelector("#vinputs-placeholder").appendChild(e.el.querySelector(".vinputs-wrap"))}catch(e){}}}},2285:(e,t,n)=>{var o=n(8157)(n(4460)),i=function(e,t){(0,o.default)({url:t.replace(/\/$/g,"")+"/index.json",type:"GET",success:function(n){for(var o=[],i=0;i<n[0].length;i++)o.push(t+"/"+n[0][i]),e.emoticon[n[0][i]]=t+"/"+n[0][i];e.emoticonList.push(o)}})};e.exports=function(e){if(window.MV.emoticonUrl=e.conf.emoticonUrl,!window.MV.emoticonList){var t=localStorage&&localStorage.getItem("_ohhhoSmile");if(t)if(function(e,t){if(e.length!==t.length)return 0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return 0;return 1}((t=JSON.parse(t)).emoticonUrl,e.conf.emoticonUrl)){e.emoticonList=t.emoticonList,e.emoticon=[];for(var n=0;n<e.emoticonList.length;n++)for(var o=0;o<e.emoticonList[n].length;o++)e.emoticon[e.emoticonList[n][o].split("/")[e.emoticonList[n][o].split("/").length-1]]=e.emoticonList[n][o];window.MV.emoticonList=e.emoticonList,window.MV.emoticon=e.emoticon,window.MV.getSmile=0}else window.MV.getSmile=1;else window.MV.getSmile=1;if(window.MV.getSmile){e.emoticonList=[],e.emoticon=[];for(var a=0;a<e.conf.emoticonUrl.length;a++)i(e,e.conf.emoticonUrl[a]);window.MV.emoticonList=e.emoticonList,window.MV.emoticon=e.emoticon}else e.emoticonList=window.MV.emoticonList,e.emoticon=window.MV.emoticon;setTimeout((function(){void 0!==e.emoticonList&&0!=e.emoticonList.length&&localStorage&&localStorage.setItem("_ohhhoSmile",JSON.stringify({emoticonUrl:window.MV.emoticonUrl,emoticonList:window.MV.emoticonList}))}),5e3)}}},5320:(e,t,n)=>{var o=n(8157)(n(9493));e.exports=function(e){var t=e.el.querySelector(".vemoji-btn"),n=e.el.querySelector(".vpreview-btn"),i=e.el.querySelector(".vpreview-text"),a=e.el.querySelector(".vsmile-body");o.default.on("click",t,(function(e){i.getAttribute("triggered")&&(i.setAttribute("style","display:none;"),i.removeAttribute("triggered"),n.classList.remove("actived")),a.getAttribute("triggered")?(a.setAttribute("style","display:none;"),a.removeAttribute("triggered"),t.classList.remove("actived")):(a.removeAttribute("style"),a.setAttribute("triggered",1),t.classList.add("actived"))}))}},2682:(e,t,n)=>{var o=n(8157),i=o(n(9493)),a=o(n(9270));e.exports=function(e){var t=e.el.querySelector(".vsmile-icons");i.default.on("click",t,(function(t){var n=e.el.querySelector(".veditor"),o=t.target.src;if(void 0!==o){var i="!(:".concat(decodeURI(o).replace(/^.*\/(.*)$/,"$1"),":)");(0,a.default)(n,i),e.C.comment=n.value;var r=e.el.querySelector(".vsubmit");r.getAttribute("disabled")&&r.removeAttribute("disabled")}}))}},3952:(e,t,n)=>{var o=n(8157),i=o(n(9493)),a=o(n(2243)),r=o(n(3755));e.exports=function(e){var t=e.el.querySelector(".vsubmit");e.submitEvt=function(o){t.getAttribute("disabled-submit")?e.alert.show({type:0,text:e.i18n.wait+'ヾ(๑╹◡╹)ﾉ"',ctxt:e.i18n.ok}):""!==e.C.comment?""!==e.C.nick?(0,a.default)(e,e,(function(e){var t=r.default.mail(e.C.mail),o=r.default.link(e.C.link);e.C.mail=t.k?t.v:"",e.C.link=o.k?o.v:"",t.k&&o.k?n():e.alert.show({type:0,text:e.i18n.inputTips,ctxt:e.i18n.confirm})})):e.inputs.nick.focus():e.inputs.comment.focus()};var n=function(){t.setAttribute("disabled-submit",1),e.submitting.show(),e.postComment(e,(function(n){localStorage&&localStorage.setItem("_ohhho",JSON.stringify({nick:e.C.nick,link:e.C.link,mail:e.C.mail}));var o=e.el.querySelector(".count");if(o.innerText=Number(o.innerText)+1,""===e.C.rid)e.insertComment(n,null,1);else{var i=e.el.querySelector("#children-list-".concat(e.C.rid));e.insertComment(n,i,1)}t.removeAttribute("disabled-submit"),e.submitting.hide(),e.nodata.hide(),e.reset()}))};i.default.on("click",t,e.submitEvt)}},3604:(e,t,n)=>{var o=n(8157),i=o(n(9493)),a=o(n(9270));e.exports=function(e){var t=e.el.querySelector(".veditor");i.default.on("keydown",document,(function(n){var o=(n=event||n).keyCode||n.which||n.charCode;(n.ctrlKey||n.metaKey)&&13===o&&e.submitEvt(),9===o&&"veditor"==(document.activeElement.className||"")&&(n.preventDefault(),(0,a.default)(t,"    "))}));var n=function(n){if(n.length)for(var i=function(i){var r=n[i],l="![Uploading ".concat(r.name,"]()");(0,a.default)(t,l),o(r,(function(n,o){!n&&o&&(t.value=t.value.replace(l,"\r\n![".concat(r.name,"](").concat(e.conf.uploadImageParse(o),")")),e.C.comment=t.value)}))},r=0;r<n.length;r++)i(r)};i.default.on("paste",document,(function(e){var t="clipboardData"in e?e.clipboardData:e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData,o=t&&t.items,i=[];if(o&&o.length>0){for(var a=0;a<o.length;a++)if(-1!==o[a].type.indexOf("image")){i.push(o[a].getAsFile());break}n(i)}}));var o=function(t,n){var o=new FormData;o.append("image",t);var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){if(4===i.readyState&&200===i.status)try{var e=JSON.parse(i.responseText);n&&n(null,e)}catch(e){n&&n(e)}else n&&n(i.status)},i.onerror=function(e){console.error(e)},i.open("POST",e.conf.uploadImageURL,1),i.send(o)},r=document.getElementsByClassName("veditor")[0];r.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation()})),r.addEventListener("dragenter",(function(e){e.preventDefault(),e.stopPropagation()})),r.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var t=this.files||e.dataTransfer.files;n(t)}))}}},n={};return e.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e(9506)})()},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.MiniValine=factory():root.MiniValine=factory();